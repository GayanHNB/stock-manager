<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Global ERP ‚Äì Platform | ¬© Gayan Gunasekara</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #0f2027, #203a43, #2c5364);
      color: #fff;
      min-h-screen;
    }
    header {
      padding: 40px 20px;
      text-align: center;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(15px);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      padding: 40px;
    }
    .card {
      background: rgba(255,255,255,0.08);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.1);
      transition: all 0.3s ease;
    }
    .card:hover { 
      transform: translateY(-10px); 
      background: rgba(255,255,255,0.12);
      border-color: #00c6ff;
    }

    button {
      background: linear-gradient(135deg,#00c6ff,#0072ff);
      border: none;
      color: #fff;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 15px;
      width: 100%;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: opacity 0.2s;
    }
    button:active { opacity: 0.8; }

    input {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(0,0,0,0.2);
      color: white;
      box-sizing: border-box;
    }
    footer {
      text-align: center;
      padding: 30px;
      opacity: 0.7;
      font-size: 13px;
      letter-spacing: 1px;
    }
    .inventory-list {
      margin-top: 20px;
      list-style: none;
      padding: 0;
    }
    .inventory-item {
      background: rgba(255,255,255,0.05);
      margin-bottom: 8px;
      padding: 12px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }
    .warn { color: #ffb703; font-weight: bold; }
    #financeOutput {
      margin-top: 15px;
      padding: 10px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      font-family: monospace;
    }
  </style>
</head>
<body>

<header>
  <h1>üåê Global ERP Platform</h1>
  <p>Inventory ‚Ä¢ POS ‚Ä¢ Accounting ‚Ä¢ Payments ‚Ä¢ Analytics</p>
</header>

<div class="container">

  <div class="card">
    <h3>üì¶ Inventory Management</h3>
    <input id="itemName" placeholder="Item Name" />
    <input id="itemQty" type="number" placeholder="Quantity" />
    <input id="itemLimit" type="number" placeholder="Low Stock Limit" />
    <button onclick="addItem()">Update Inventory</button>
    <p id="invWarn" class="warn"></p>
    <div id="inventoryContainer" class="inventory-list"></div>
  </div>

  <div class="card">
    <h3>üßæ POS Terminal</h3>
    <p>Connected to global inventory nodes. Records real-time sales transactions.</p>
    <button onclick="mockSale()">Process Simulation Sale</button>
  </div>

  <div class="card">
    <h3>üìä Financial Intelligence</h3>
    <button onclick="generatePnL()">Generate P&L Statement</button>
    <button onclick="generateBS()">Generate Balance Sheet</button>
    <div id="financeOutput">Awaiting data request...</div>
  </div>

  <div class="card">
    <h3>üßæ Invoicing & Quotations</h3>
    <p>Automated VAT-compliant invoice generation for global customers.</p>
    <button onclick="generateInvoice()">Create Tax Invoice</button>
  </div>

  <div class="card">
    <h3>üí≥ Payment Gateway</h3>
    <p>IPG Node Status: <span style="color: #27ae60;">Ready to Connect</span></p>
    <button onclick="alert('Redirecting to IPG Configuration...')">Secure IPG Link</button>
  </div>

</div>

<footer>
  ¬© 2026 Gayan Gunasekara ‚Äì Global ERP Infrastructure Solution
</footer>

<script>
  // üî• Firebase Configuration (Synced from your existing project)
  const firebaseConfig = {
    apiKey: "AIzaSyCdXbWxhp1jZqrR17oWHkVSmeQhGHXm90Y",
    authDomain: "crypto-learner-4dc25.firebaseapp.com",
    projectId: "crypto-learner-4dc25",
    storageBucket: "crypto-learner-4dc25.firebasestorage.app",
    messagingSenderId: "172453528799",
    appId: "1:172453528799:web:a14e3a9a26700aabcd556a"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // --- Inventory Logic ---
  async function addItem() {
    const name = document.getElementById('itemName').value.trim();
    const qty = Number(document.getElementById('itemQty').value);
    const limit = Number(document.getElementById('itemLimit').value);
    
    if (!name || isNaN(qty) || isNaN(limit)) {
        alert('Please provide valid Item data.');
        return;
    }

    try {
        await db.collection('inventory').doc(name).set({ qty, limit });
        document.getElementById('itemName').value = '';
        document.getElementById('itemQty').value = '';
        document.getElementById('itemLimit').value = '';
    } catch (err) {
        console.error('Write Error:', err);
    }
  }

  // Real-time Inventory Sync
  db.collection('inventory').onSnapshot(snap => {
    const container = document.getElementById('inventoryContainer');
    container.innerHTML = '';
    let lowStockCount = 0;

    snap.forEach(doc => {
      const d = doc.data();
      const isLow = d.qty <= d.limit;
      if(isLow) lowStockCount++;

      const itemDiv = document.createElement('div');
      itemDiv.className = 'inventory-item';
      itemDiv.innerHTML = `
        <span style="${isLow ? 'color:#ffb703; font-weight:bold;' : ''}">${doc.id}</span>
        <span>${d.qty} Units</span>
      `;
      container.appendChild(itemDiv);
    });

    document.getElementById('invWarn').innerText = 
      lowStockCount > 0 ? `‚ö†Ô∏è ${lowStockCount} Items are below stock limit!` : '';
  });

  // --- POS Logic ---
  function mockSale() {
    alert('POS Sale Logged. Inventory levels updated in global node.');
  }

  // --- Finance Logic ---
  function generatePnL() {
    document.getElementById('financeOutput').innerHTML = `
        <strong>P&L STATEMENT</strong><br>
        Revenue: $12,500<br>
        COGS: $7,200<br>
        <hr>
        Gross Profit: $5,300
    `;
  }
  
  function generateBS() {
    document.getElementById('financeOutput').innerHTML = `
        <strong>BALANCE SHEET</strong><br>
        Assets: $85,000<br>
        Liabilities: $22,000<br>
        Equity: $63,000
    `;
  }

  // --- Invoice Logic ---
  function generateInvoice() {
    alert('Generating Digital Tax Invoice PDF...');
  }

  // GSAP Entrance
  gsap.from('.card', { opacity: 0, y: 50, stagger: 0.15, duration: 1, ease: "power4.out" });
</script>

</body>
</html>